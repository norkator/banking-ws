// import * as mocha from 'mocha';
import * as chai from 'chai';
import {Base64DecodeStr} from './utils';
import {ParseContentFromPaymentStatusReport, ParsePaymentStatusReport, ParseBankStatement} from './parsers';

const expect = chai.expect;
describe('Parsers', async () => {

  // these are generated for tests use only (dummy ones)
  const PAYMENT_STATUS_RECEIVED_XML_ENCODED = 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48RG9jdW1lbnQgeG1sbnM9InVybjppc286c3RkOmlzbzoyMDAyMjp0ZWNoOnhzZDpwYWluLjAwMi4wMDEuMDMiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPjxDc3RtclBtdFN0c1JwdD48R3JwSGRyPjxNc2dJZD4wMTg3MTQ5MF80NzI0MjA1NzM2OTwvTXNnSWQ+PENyZUR0VG0+MjAyMy0wOS0wNVQxODo1OToxMC4xODMrMDI6MDA8L0NyZUR0VG0+PEluaXRnUHR5PjxObT5Fc2ltZXJra2kgT3k8L05tPjwvSW5pdGdQdHk+PERidHJBZ3Q+PEZpbkluc3RuSWQ+PEJJQz5PS09ZRklISDwvQklDPjwvRmluSW5zdG5JZD48L0RidHJBZ3Q+PC9HcnBIZHI+PE9yZ25sR3JwSW5mQW5kU3RzPjxPcmdubE1zZ0lkPk1TR0lEMjAyMzA0PC9PcmdubE1zZ0lkPjxPcmdubE1zZ05tSWQ+cGFpbi4wMDEuMDAxLjAyPC9PcmdubE1zZ05tSWQ+PEdycFN0cz5BQ1RDPC9HcnBTdHM+PC9PcmdubEdycEluZkFuZFN0cz48L0NzdG1yUG10U3RzUnB0PjwvRG9jdW1lbnQ+';
  const PAYMENT_STATUS_AS_OBJECT = '{"GrpHdr":{"MsgId":"01871490_47242057369","CreDtTm":"2023-09-05T18:59:10.183+02:00","InitgPty":{"Nm":"Esimerkki Oy"},"DbtrAgt":{"FinInstnId":{"BIC":"OKOYFIHH"}}},"OrgnlGrpInfAndSts":{"OrgnlMsgId":"MSGID202304","OrgnlMsgNmId":"pain.001.001.02","GrpSts":"ACTC"}}';
  // eslint-disable-next-line quotes
  const PAYMENT_STATUS_RECEIVED_XML = `<?xml version='1.0' encoding='UTF-8'?><Document xmlns="urn:iso:std:iso:20022:tech:xsd:pain.002.001.03" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><CstmrPmtStsRpt><GrpHdr><MsgId>01871490_47242057369</MsgId><CreDtTm>2023-09-05T18:59:10.183+02:00</CreDtTm><InitgPty><Nm>Esimerkki Oy</Nm></InitgPty><DbtrAgt><FinInstnId><BIC>OKOYFIHH</BIC></FinInstnId></DbtrAgt></GrpHdr><OrgnlGrpInfAndSts><OrgnlMsgId>MSGID202304</OrgnlMsgId><OrgnlMsgNmId>pain.001.001.02</OrgnlMsgNmId><GrpSts>ACTC</GrpSts></OrgnlGrpInfAndSts></CstmrPmtStsRpt></Document>`;
  const PAYMENT_STATUS_REPORT_STRUCTURE_APPROVED = 'PD94bWwgdmVyc2lvbj0xLjAgZW5jb2Rpbmc9VVRGLTg/PjxEb2N1bWVudCB4bWxucz0idXJuOmlzbzpzdGQ6aXNvOjIwMDIyOnRlY2g6eHNkOnBhaW4uMDAyLjAwMS4wMyIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSI+PENzdG1yUG10U3RzUnB0PjxHcnBIZHI+PE1zZ0lkPlNUQVQyMDA5MDEyODE2MzMxMzEwPC9Nc2dJZD48Q3JlRHRUbT4yMDA5LTAxLTI4VDE2OjMzOjEzPC9DcmVEdFRtPjwvR3JwSGRyPjxPcmdubEdycEluZkFuZFN0cz48T3JnbmxNc2dJZD5NU0dJRDAwMDAwOTwvT3JnbmxNc2dJZD48T3JnbmxNc2dObUlkPnBhaW4uMDAxPC9PcmdubE1zZ05tSWQ+PEdycFN0cz5BQ1RDPC9HcnBTdHM+PC9PcmdubEdycEluZkFuZFN0cz48L0NzdG1yUG10U3RzUnB0PjwvRG9jdW1lbnQ+Cg==';
  const PAYMENT_STATUS_REPORT_STRUCTURE_REJECTED = 'PD94bWwgdmVyc2lvbj0xLjAgZW5jb2Rpbmc9VVRGLTg/PjxEb2N1bWVudCB4bWxucz0idXJuOmlzbzpzdGQ6aXNvOjIwMDIyOnRlY2g6eHNkOnBhaW4uMDAyLjAwMS4wMyIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSI+PENzdG1yUG10U3RzUnB0PjxHcnBIZHI+PE1zZ0lkPlNUQVQyMDA5MDEyODE2MzMxMzExPC9Nc2dJZD48Q3JlRHRUbT4yMDA5LTAxLTI4VDE2OjMzOjE0PC9DcmVEdFRtPjwvR3JwSGRyPjxPcmdubEdycEluZkFuZFN0cz48T3JnbmxNc2dJZD5NU0dJRDAwMDAxMDwvT3JnbmxNc2dJZD48T3JnbmxNc2dObUlkPnBhaW4uMDAxPC9PcmdubE1zZ05tSWQ+PEdycFN0cz5SSkNUPC9HcnBTdHM+PC9PcmdubEdycEluZkFuZFN0cz48L0NzdG1yUG10U3RzUnB0PjwvRG9jdW1lbnQ+Cg==';
  const PAYMENT_STATUS_REPORT_CONTENT_APPROVED = 'PD94bWwgdmVyc2lvbj0xLjAgZW5jb2Rpbmc9VVRGLTg/PjxEb2N1bWVudCB4bWxucz0idXJuOmlzbzpzdGQ6aXNvOjIwMDIyOnRlY2g6eHNkOnBhaW4uMDAyLjAwMS4wMyIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSI+PENzdG1yUG10U3RzUnB0PjxHcnBIZHI+PE1zZ0lkPlNUQVQyMDA5MDEyODE2MzMxMzEyPC9Nc2dJZD48Q3JlRHRUbT4yMDA5LTAxLTI4VDE2OjMzOjE1PC9DcmVEdFRtPjwvR3JwSGRyPjxPcmdubEdycEluZkFuZFN0cz48T3JnbmxNc2dJZD5NU0dJRDAwMDAxMTwvT3JnbmxNc2dJZD48T3JnbmxNc2dObUlkPnBhaW4uMDAxPC9PcmdubE1zZ05tSWQ+PEdycFN0cz5BQ0NQPC9HcnBTdHM+PC9PcmdubEdycEluZkFuZFN0cz48L0NzdG1yUG10U3RzUnB0PjwvRG9jdW1lbnQ+IMIK';
  const PAYMENT_STATUS_REPORT_PARTIALLY_ACCEPTED = 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48RG9jdW1lbnQgeG1sbnM9InVybjppc286c3RkOmlzbzoyMDAyMjp0ZWNoOnhzZDpwYWluLjAwMi4wMDEuMDMiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiPjxDc3RtclBtdFN0c1JwdD48R3JwSGRyPjxNc2dJZD5TVEFUMjAwOTAxMjgxNjMzMTMxMTwvTXNnSWQ+PENyZUR0VG0+MjAwOS0wMS0yOFQxNjozMzoxNDwvQ3JlRHRUbT48L0dycEhkcj48T3JnbmxHcnBJbmZBbmRTdHM+PE9yZ25sTXNnSWQ+TVNHSUQwMDAwMTA8L09yZ25sTXNnSWQ+PE9yZ25sTXNnTm1JZD5wYWluLjAwMTwvT3JnbmxNc2dObUlkPjxHcnBTdHM+UEFSVDwvR3JwU3RzPjwvT3JnbmxHcnBJbmZBbmRTdHM+PC9Dc3RtclBtdFN0c1JwdD48L0RvY3VtZW50Pg';
  const PAYMENT_STATUS_REPORT_SINGLE_REJECTED = 'PD94bWwgdmVyc2lvbj0xLjAgZW5jb2Rpbmc9VVRGLTg/PjxEb2N1bWVudCB4bWxucz0idXJuOmlzbzpzdGQ6aXNvOjIwMDIyOnRlY2g6eHNkOnBhaW4uMDAyLjAwMS4wMyIgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSI+PENzdG1yUG10U3RzUnB0PjxHcnBIZHI+PE1zZ0lkPkNQUzIwMDkwODIxMTEyMDE3NTEyPC9Nc2dJZD48Q3JlRHRUbT4yMDA5LTA4LTIxVDExOjExOjE3LjUxMyswMTowMDwvQ3JlRHRUbT48L0dycEhkcj48T3JnbmxHcnBJbmZBbmRTdHM+PE9yZ25sTXNnSWQ+TVNHSUQwMDAwMTI8L09yZ25sTXNnSWQ+PE9yZ25sTXNnTm1JZD5wYWluLjAwMTwvT3JnbmxNc2dObUlkPjwvT3JnbmxHcnBJbmZBbmRTdHM+PE9yZ25sUG10SW5mQW5kU3RzPjxPcmdubFBtdEluZklkPjIwMTAxMTE0LTIzNDU2Nzg5MDE8L09yZ25sUG10SW5mSWQ+PFR4SW5mQW5kU3RzPjxPcmdubEVuZFRvRW5kSWQ+RW5kVG9FbmRJZDAwMDAwMTwvT3JnbmxFbmRUb0VuZElkPjxUeFN0cz5SSkNUPC9UeFN0cz48U3RzUnNuSW5mPjxSc24+PENkPkFDMDE8L0NkPjwvUnNuPjxBZGR0bEluZj5Gb3JtYXQgb2YgdGhlIGFjY291bnQgbnVtYmVyIHNwZWNpZmllZCBpcyBub3QgY29ycmVjdDwvQWRkdGxJbmY+PC9TdHNSc25JbmY+PC9UeEluZkFuZFN0cz48L09yZ25sUG10SW5mQW5kU3RzPjwvQ3N0bXJQbXRTdHNScHQ+PC9Eb2N1bWVudD4K';
  const BANK_PAYMENT_REPORT_XT = 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48RG9jdW1lbnQgeG1sbnM9InVybjppc286c3RkOmlzbzoyMDAyMjp0ZWNoOnhzZDpjYW10LjA1My4wMDEuMDIiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIHhzaTpzY2hlbWFMb2NhdGlvbj0idXJuOmlzbzpzdGQ6aXNvOjIwMDIyOnRlY2g6eHNkOmNhbXQuMDUzLjAwMS4wMiBjYW10LjA1My4wMDEuMDIueHNkIj4KPEJrVG9Dc3RtclN0bXQ+CjxHcnBIZHI+CjxNc2dJZD4yMDIzMDYzMDQ1MDMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDwvTXNnSWQ+CjxDcmVEdFRtPjIwMjMtMDYtMzBUMjE6MDU6MjgrMDI6MDA8L0NyZUR0VG0+CjwvR3JwSGRyPgo8U3RtdD4KPElkPjIwMjMwNjMwNDUwMzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwPC9JZD4KPExnbFNlcU5iPjM8L0xnbFNlcU5iPgo8Q3JlRHRUbT4yMDIzLTA2LTMwVDIxOjA1OjI4KzAyOjAwPC9DcmVEdFRtPgo8RnJUb0R0Pgo8RnJEdFRtPjIwMjMtMDYtMDFUMDA6MDA6MDErMDI6MDA8L0ZyRHRUbT4KPFRvRHRUbT4yMDIzLTA2LTMwVDIzOjU5OjU5KzAyOjAwPC9Ub0R0VG0+CjwvRnJUb0R0Pgo8QWNjdD4KPElkPgo8SUJBTj5GSTEyMzQ1NjAwMDAwMDAwMDA8L0lCQU4+CjwvSWQ+CjxUcD4KPENkPkNBQ0M8L0NkPgo8L1RwPgo8Q2N5PkVVUjwvQ2N5Pgo8T3ducj4KPE5tPkxPUkVNIElQU1VNIE9ZPC9ObT4KPC9Pd25yPgo8U3Zjcj4KPEZpbkluc3RuSWQ+CjxCSUM+SVRFTEZJSEg8L0JJQz4KPC9GaW5JbnN0bklkPgo8L1N2Y3I+CjwvQWNjdD4KPEJhbD4KPFRwPgo8Q2RPclBydHJ5Pgo8Q2Q+T1BCRDwvQ2Q+CjwvQ2RPclBydHJ5Pgo8L1RwPgo8Q2R0TGluZT4KPEluY2w+ZmFsc2U8L0luY2w+CjxBbXQgQ2N5PSJFVVIiPjA8L0FtdD4KPC9DZHRMaW5lPgo8QW10IENjeT0iRVVSIj43PC9BbXQ+CjxDZHREYnRJbmQ+REJJVDwvQ2R0RGJ0SW5kPgo8RHQ+CjxEdD4yMDIzLTA2LTAxPC9EdD4KPC9EdD4KPC9CYWw+CjxCYWw+CjxUcD4KPENkT3JQcnRyeT4KPENkPkNMQkQ8L0NkPgo8L0NkT3JQcnRyeT4KPC9UcD4KPENkdExpbmU+CjxJbmNsPmZhbHNlPC9JbmNsPgo8QW10IENjeT0iRVVSIj4wPC9BbXQ+CjwvQ2R0TGluZT4KPEFtdCBDY3k9IkVVUiI+MDwvQW10Pgo8Q2R0RGJ0SW5kPkNSRFQ8L0NkdERidEluZD4KPER0Pgo8RHQ+MjAyMy0wNi0zMDwvRHQ+CjwvRHQ+CjwvQmFsPgo8QmFsPgo8VHA+CjxDZE9yUHJ0cnk+CjxDZD5DTEFWPC9DZD4KPC9DZE9yUHJ0cnk+CjwvVHA+CjxDZHRMaW5lPgo8SW5jbD50cnVlPC9JbmNsPgo8QW10IENjeT0iRVVSIj4wPC9BbXQ+CjwvQ2R0TGluZT4KPEFtdCBDY3k9IkVVUiI+MDwvQW10Pgo8Q2R0RGJ0SW5kPkNSRFQ8L0NkdERidEluZD4KPER0Pgo8RHQ+MjAyMy0wNi0zMDwvRHQ+CjwvRHQ+CjwvQmFsPgo8VHhzU3VtbXJ5Pgo8VHRsTnRyaWVzPgo8TmJPZk50cmllcz4zPC9OYk9mTnRyaWVzPgo8L1R0bE50cmllcz4KPFR0bENkdE50cmllcz4KPE5iT2ZOdHJpZXM+MjwvTmJPZk50cmllcz4KPFN1bT4xNDwvU3VtPgo8L1R0bENkdE50cmllcz4KPFR0bERidE50cmllcz4KPE5iT2ZOdHJpZXM+MTwvTmJPZk50cmllcz4KPFN1bT43PC9TdW0+CjwvVHRsRGJ0TnRyaWVzPgo8L1R4c1N1bW1yeT4KPE50cnk+CjxBbXQgQ2N5PSJFVVIiPjc8L0FtdD4KPENkdERidEluZD5DUkRUPC9DZHREYnRJbmQ+CjxTdHM+Qk9PSzwvU3RzPgo8Qm9va2dEdD4KPER0PjIwMjMtMDYtMDg8L0R0Pgo8L0Jvb2tnRHQ+CjxWYWxEdD4KPER0PjIwMjMtMDYtMDg8L0R0Pgo8L1ZhbER0Pgo8QWNjdFN2Y3JSZWY+MTIzNDU2Nzg5MTIzNDVQMDAwMjwvQWNjdFN2Y3JSZWY+CjxCa1R4Q2Q+CjxEb21uPgo8Q2Q+UE1OVDwvQ2Q+CjxGbWx5Pgo8Q2Q+UkNEVDwvQ2Q+CjxTdWJGbWx5Q2Q+RVNDVDwvU3ViRm1seUNkPgo8L0ZtbHk+CjwvRG9tbj4KPFBydHJ5Pgo8Q2Q+NzEwRkVFIFRSQU5TRkVSPC9DZD4KPElzc3I+RkZGUzwvSXNzcj4KPC9QcnRyeT4KPC9Ca1R4Q2Q+CjxOdHJ5RHRscz48VHhEdGxzPgo8UmVmcz4KPEFjY3RTdmNyUmVmPjEyMzQ1Njc4OTEyMzQ1NlAwMDAyPC9BY2N0U3ZjclJlZj4KPC9SZWZzPgo8QW10RHRscz48VHhBbXQ+CjxBbXQgQ2N5PSJFVVIiPjc8L0FtdD4KPC9UeEFtdD4KPC9BbXREdGxzPgo8Umx0ZFB0aWVzPjxEYnRyPgo8Tm0+TU9DSyBZUklUWVMgT1k8L05tPgo8L0RidHI+CjwvUmx0ZFB0aWVzPgo8Um10SW5mPgo8VXN0cmQ+UkVUVVJOIE9GIFNFUlZJQ0UgRkVFPC9Vc3RyZD4KPC9SbXRJbmY+CjxSbHRkRHRzPgo8QWNjcHRuY0R0VG0+MjAyMy0wNi0wOFQwMDowMDowMCswMjowMDwvQWNjcHRuY0R0VG0+CjwvUmx0ZER0cz4KPC9UeER0bHM+CjwvTnRyeUR0bHM+CjwvTnRyeT4KPE50cnk+CjxBbXQgQ2N5PSJFVVIiPjc8L0FtdD4KPENkdERidEluZD5EQklUPC9DZHREYnRJbmQ+CjxTdHM+Qk9PSzwvU3RzPgo8Qm9va2dEdD4KPER0PjIwMjMtMDYtMjY8L0R0Pgo8L0Jvb2tnRHQ+CjxWYWxEdD4KPER0PjIwMjMtMDYtMjY8L0R0Pgo8L1ZhbER0Pgo8QWNjdFN2Y3JSZWY+MTIzNDU2N1NIMDAxMjM0NTwvQWNjdFN2Y3JSZWY+CjxCa1R4Q2Q+CjxEb21uPgo8Q2Q+QUNNVDwvQ2Q+CjxGbWx5Pgo8Q2Q+TURPUDwvQ2Q+CjxTdWJGbWx5Q2Q+Q0hSRzwvU3ViRm1seUNkPgo8L0ZtbHk+CjwvRG9tbj4KPFBydHJ5Pgo8Q2Q+NzMwU09NRSBNT0NLIEZFRTwvQ2Q+CjxJc3NyPkZGRlM8L0lzc3I+CjwvUHJ0cnk+CjwvQmtUeENkPgo8TnRyeUR0bHM+PFR4RHRscz4KPFJlZnM+CjxBY2N0U3ZjclJlZj4xMjM0NTY3U0gwMDEyMzQ1PC9BY2N0U3ZjclJlZj4KPC9SZWZzPgo8QW10RHRscz48VHhBbXQ+CjxBbXQgQ2N5PSJFVVIiPjc8L0FtdD4KPC9UeEFtdD4KPC9BbXREdGxzPgo8Um10SW5mPgo8VXN0cmQ+U0VSVklDRSBGRUVTIEJFVFdFRU4gQUJDREVGRzwvVXN0cmQ+CjwvUm10SW5mPgo8Umx0ZER0cz4KPEFjY3B0bmNEdFRtPjIwMjMtMDYtMjZUMDA6MDA6MDArMDI6MDA8L0FjY3B0bmNEdFRtPgo8L1JsdGREdHM+CjwvVHhEdGxzPgo8L050cnlEdGxzPgo8L050cnk+CjxOdHJ5Pgo8QW10IENjeT0iRVVSIj43PC9BbXQ+CjxDZHREYnRJbmQ+Q1JEVDwvQ2R0RGJ0SW5kPgo8U3RzPkJPT0s8L1N0cz4KPEJvb2tnRHQ+CjxEdD4yMDIzLTA2LTI3PC9EdD4KPC9Cb29rZ0R0Pgo8VmFsRHQ+CjxEdD4yMDIzLTA2LTI3PC9EdD4KPC9WYWxEdD4KPEFjY3RTdmNyUmVmPjEyMzQ1Njc4OTEyMzRQMDAwMjwvQWNjdFN2Y3JSZWY+CjxCa1R4Q2Q+CjxEb21uPgo8Q2Q+UE1OVDwvQ2Q+CjxGbWx5Pgo8Q2Q+UkNEVDwvQ2Q+CjxTdWJGbWx5Q2Q+RVNDVDwvU3ViRm1seUNkPgo8L0ZtbHk+CjwvRG9tbj4KPFBydHJ5Pgo8Q2Q+NzEwIFRSQU5TRkVSPC9DZD4KPElzc3I+RkZGUzwvSXNzcj4KPC9QcnRyeT4KPC9Ca1R4Q2Q+CjxOdHJ5RHRscz48VHhEdGxzPgo8UmVmcz4KPEFjY3RTdmNyUmVmPjEyMzQ1Njc4OTEyMzRQMDAwMjwvQWNjdFN2Y3JSZWY+CjwvUmVmcz4KPEFtdER0bHM+PFR4QW10Pgo8QW10IENjeT0iRVVSIj43PC9BbXQ+CjwvVHhBbXQ+CjwvQW10RHRscz4KPFJsdGRQdGllcz48RGJ0cj4KPE5tPk1PQ0sgWVJJVFlTIE9ZPC9ObT4KPC9EYnRyPgo8L1JsdGRQdGllcz4KPFJtdEluZj4KPFVzdHJkPlNPTUUgRVZFTlQgREVTQ1JJUFRJT048L1VzdHJkPgo8L1JtdEluZj4KPFJsdGREdHM+CjxBY2NwdG5jRHRUbT4yMDIzLTA2LTI3VDAwOjAwOjAwKzAyOjAwPC9BY2NwdG5jRHRUbT4KPC9SbHRkRHRzPgo8L1R4RHRscz4KPC9OdHJ5RHRscz4KPC9OdHJ5Pgo8L1N0bXQ+CjwvQmtUb0NzdG1yU3RtdD4KPC9Eb2N1bWVudD4=';

  it('should decode base64', async () => {
      const c = Base64DecodeStr(PAYMENT_STATUS_RECEIVED_XML_ENCODED);
      expect(c).equal(PAYMENT_STATUS_RECEIVED_XML);
    });

  it('should return status report as a valid object', async () => {
    const c = await ParseContentFromPaymentStatusReport(PAYMENT_STATUS_RECEIVED_XML_ENCODED);
    const expectedResult = JSON.parse(PAYMENT_STATUS_AS_OBJECT);
    expect(c).equal(JSON.stringify(expectedResult));
    });

  it('should return payment status report with approved structure', async () => {
    const c = await ParseContentFromPaymentStatusReport(PAYMENT_STATUS_REPORT_STRUCTURE_APPROVED);
    const b = await ParsePaymentStatusReport(c);
    expect(b.Status.GroupStatus).to.equal('ACTC');
  });

  it('should return payment status report with rejected structure', async () => {
    const c = await ParseContentFromPaymentStatusReport(PAYMENT_STATUS_REPORT_STRUCTURE_REJECTED);
    const b = await ParsePaymentStatusReport(c);
    expect(b.Status.GroupStatus).to.equal('RJCT');
  });

  it('should return payment status report with content approved', async () => {
    const c = await ParseContentFromPaymentStatusReport(PAYMENT_STATUS_REPORT_CONTENT_APPROVED);
    const b = await ParsePaymentStatusReport(c);
    expect(b.Status.GroupStatus).to.equal('ACCP');
  });

  it('should return payment status report partially approved', async () => {
    const c = await ParseContentFromPaymentStatusReport(PAYMENT_STATUS_REPORT_PARTIALLY_ACCEPTED);
    const b = await ParsePaymentStatusReport(c);
    expect(b.Status.GroupStatus).to.equal('PART');
  });

  it('should return payment status report rejected (single transaction)', async () => {
    const c = await ParseContentFromPaymentStatusReport(PAYMENT_STATUS_REPORT_SINGLE_REJECTED);
    const b = await ParsePaymentStatusReport(c);
    expect(b.Status.TransactionStatus).to.equal('RJCT');
  });

  it('should return info about parsed bank statement', async () => {
    const c = await ParseBankStatement(BANK_PAYMENT_REPORT_XT);
    // console.dir(c, {depth: 15}); // LOGGING FOR DEBUGGING PURPOSES
    expect(c).to.equal(c);
  });

});